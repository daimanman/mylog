# Go & java Oss 压力测试

#### 1，单终端多并发，读写综合测试
* 应用运行环境 Vmware虚拟机 内存2Gb 系统Unbuntu， Jmeter压测

* go 压测

| 语言 | 并发 | 总请求数 | 耗时 | 内存(task-begin) | 内存(task-ing) | 结果 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| java | 50 | 10w  | 18m  | 890m | 1.2G | 未运行结束应用崩溃 |
| go | 50 | 10w  | 3m | 670m | 870m | 运行良好 |
| go | 50 | 20w  | 6m | 670m | 920m | 运行良好 |
| go | 100 | 10w  | 5m10s | 670m | 1.5G | 运行良好 |
| go | 200 | 20w  | 9m33s | 670m | 1.7G | 运行良好 |


*响应时间(ms)

| Avg | Median | 90% | 95% | 99% | min | max | err(%) | throughtput/sec |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| 5343 | 5085 | 9720 | 12486 | 19884 | 3 | 24366 | 25 | 92 |
| 863 | 840 | 1038 | 1160 | 1950 | 6 | 2439 | 0 | 553 |
| 879 | 838 | 1013 | 1149 | 2121 | 7 | 2443 | 0 | 553 |
| 2663 | 2360 | 4244 | 5028 | 6881 | 4 | 160394 | 0 | 308 |
| 5235 | 3556 | 10125 | 13419 | 33488 | 2 | 360012 | 0 | 349 |


* 50 并发 java(10w请求) go(20w请求) 压测下系统资源占用
![image](http://oss.lonhcloud.net/lhcenter/api/v1/oss/6,01ce9aea424037)

* go 100并发 40w 请求 压测下系统资源占用
![image](http://oss.lonhcloud.net/lhcenter/api/v1/oss/4,01ce9d3303efd9)

* go 50并发 100w请求 压测下系统资源占用
![image](http://oss.lonhcloud.net/lhcenter/api/v1/oss/4,01ce9f170b0463)


* 结论 <br>
1、go 应用在内存和cpu方面表现更稳定<br>
2、go 应用编译后的体积更小 go(8m)&nbsp;&nbsp;&nbsp;&nbsp;java(130m)<br>
3、go应用启动时间也更快
